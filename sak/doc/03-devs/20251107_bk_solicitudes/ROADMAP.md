# ğŸ—ºï¸ Roadmap Visual - Solicitudes Refactor

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          FASE 1: PREPARACIÃ“N                                â”‚
â”‚                          DuraciÃ³n: 30 minutos                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Pre-requisitosâ”‚
    â”‚   âœ“ Git      â”‚
    â”‚   âœ“ DB Local â”‚
    â”‚   âœ“ Tests OK â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Create Branchâ”‚
    â”‚ feature/sol- â”‚
    â”‚ icitudes-ref â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Backup Local â”‚â”€â”€â”€â”€â”€â–ºâ”‚ backup_local_YYY... â”‚
    â”‚ pg_dump      â”‚      â”‚ Stored in backups/  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
        âœ… READY

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     FASE 2: IMPLEMENTACIÃ“N LOCAL                            â”‚
â”‚                          DuraciÃ³n: 6 horas                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.1 MODELS (1.5 horas)                                         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€â”€â–º backend/app/models/departamento.py
            â”‚    â”œâ”€ DepartamentoBase
            â”‚    â”œâ”€ Departamento (table)
            â”‚    â”œâ”€ DepartamentoCreate
            â”‚    â”œâ”€ DepartamentoUpdate
            â”‚    â””â”€ DepartamentoRead
            â”‚
            â”œâ”€â”€â–º backend/app/models/tipo_solicitud.py
            â”‚    â”œâ”€ TipoSolicitudBase (sin codigo, sin orden)
            â”‚    â”œâ”€ TipoSolicitud (table)
            â”‚    â”œâ”€ TipoSolicitudCreate
            â”‚    â”œâ”€ TipoSolicitudUpdate
            â”‚    â””â”€ TipoSolicitudRead
            â”‚
            â”œâ”€â”€â–º backend/app/models/solicitud.py (MODIFY)
            â”‚    â”œâ”€ + tipo_solicitud_id: int
            â”‚    â”œâ”€ + departamento_id: int
            â”‚    â”œâ”€ + estado: EstadoSolicitud
            â”‚    â”œâ”€ + total: Decimal
            â”‚    â””â”€ - tipo: str (REMOVE)
            â”‚
            â””â”€â”€â–º backend/app/models/__init__.py
                 â””â”€ Export new models
            
            â–¼
         âœ… Models OK

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.2 MIGRATIONS (2 horas)                                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€â”€â–º 0020_create_departamentos.py
            â”‚    â””â”€ CREATE TABLE departamentos
            â”‚    â””â”€ alembic upgrade +1
            â”‚         â”‚
            â”‚         â””â”€â”€â–º seed_departamentos.py
            â”‚              â””â”€ INSERT 4 departamentos
            â”‚
            â”œâ”€â”€â–º 0021_create_tipos_solicitud.py
            â”‚    â””â”€ CREATE TABLE tipos_solicitud
            â”‚    â””â”€ alembic upgrade +1
            â”‚         â”‚
            â”‚         â””â”€â”€â–º seed_tipos_solicitud.py
            â”‚              â””â”€ INSERT 6 tipos (NO Normal/Directa)
            â”‚
            â””â”€â”€â–º 0022_refactor_solicitudes.py âš ï¸ CRÃTICO
                 â””â”€ ALTER TABLE solicitudes
                 â”‚  â”œâ”€ ADD tipo_solicitud_id
                 â”‚  â”œâ”€ ADD departamento_id
                 â”‚  â”œâ”€ ADD estado
                 â”‚  â”œâ”€ ADD total
                 â”‚  â””â”€ DROP tipo
                 â”‚
                 â””â”€ alembic upgrade +1
                 â”‚
                 â””â”€ Migrar datos existentes
                    â””â”€ Todo a "Compras"
            
            â–¼
      âœ… Migrations Applied

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.3 CRUD & ROUTERS (2 horas)                                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€â”€â–º backend/app/crud/departamento.py
            â”‚    â””â”€ GenericCRUD[Departamento]
            â”‚
            â”œâ”€â”€â–º backend/app/crud/tipo_solicitud.py
            â”‚    â””â”€ GenericCRUD[TipoSolicitud] + delete validation
            â”‚
            â”œâ”€â”€â–º backend/app/routers/departamentos.py
            â”‚    â””â”€ create_generic_router(...)
            â”‚    â””â”€ 5 endpoints:
            â”‚         â”œâ”€ GET    /departamentos
            â”‚         â”œâ”€ POST   /departamentos
            â”‚         â”œâ”€ GET    /departamentos/{id}
            â”‚         â”œâ”€ PUT    /departamentos/{id}
            â”‚         â””â”€ DELETE /departamentos/{id}
            â”‚
            â”œâ”€â”€â–º backend/app/routers/tipos_solicitud.py
            â”‚    â””â”€ create_generic_router(...)
            â”‚    â””â”€ 5 endpoints:
            â”‚         â”œâ”€ GET    /tipos-solicitud
            â”‚         â”œâ”€ POST   /tipos-solicitud
            â”‚         â”œâ”€ GET    /tipos-solicitud/{id}
            â”‚         â”œâ”€ PUT    /tipos-solicitud/{id}
            â”‚         â””â”€ DELETE /tipos-solicitud/{id}
            â”‚
            â””â”€â”€â–º backend/app/routers/solicitudes.py (UPDATE)
                 â””â”€ NestedCRUD (existing)
                 â””â”€ 5 endpoints (generic):
                      â”œâ”€ GET    /solicitudes
                      â”œâ”€ POST   /solicitudes
                      â”œâ”€ GET    /solicitudes/{id}
                      â”œâ”€ PUT    /solicitudes/{id} â† Cambiar estado aquÃ­
                      â””â”€ DELETE /solicitudes/{id}
            
            â–¼
         âœ… API Ready

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.4 TESTING (2 horas)                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€â”€â–º tests/models/
            â”‚    â”œâ”€ test_departamento.py
            â”‚    â”œâ”€ test_tipo_solicitud.py
            â”‚    â””â”€ test_solicitud.py (update)
            â”‚
            â”œâ”€â”€â–º tests/crud/
            â”‚    â”œâ”€ test_departamento_crud.py
            â”‚    â””â”€ test_tipo_solicitud_crud.py
            â”‚         â””â”€ Test delete with references
            â”‚
            â”œâ”€â”€â–º tests/routers/
            â”‚    â”œâ”€ test_departamentos_router.py
            â”‚    â”œâ”€ test_tipos_solicitud_router.py
            â”‚    â””â”€ test_solicitudes_router.py (update)
            â”‚         â””â”€ Test cambiar estado via PUT
            â”‚
            â””â”€â”€â–º pytest -v --cov=app
                 â””â”€ >80% coverage
            
            â–¼
      âœ… Tests Passing

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.5 VERIFICACIÃ“N (30 min)                                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€â”€â–º Manual testing in Swagger
            â”‚    â”œâ”€ Test CRUD departamentos
            â”‚    â”œâ”€ Test CRUD tipos-solicitud
            â”‚    â””â”€ Test CRUD solicitudes with new fields
            â”‚
            â”œâ”€â”€â–º Verificar datos migrados
            â”‚    â””â”€ Todas las solicitudes tienen tipo + dept
            â”‚
            â””â”€â”€â–º git commit & push
                 â””â”€ feature/solicitudes-refactor
            
            â–¼
   âœ… Local Implementation Complete

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FASE 3: TESTING CON FRONTEND                           â”‚
â”‚                          DuraciÃ³n: 2-4 horas                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Backend Localâ”‚ â”€â”€â”€â”€â”€â”
    â”‚ Port 8000    â”‚      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”œâ”€â”€â”€â”€â–ºâ”‚ Frontend Local â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚     â”‚ Port 3000      â”‚
    â”‚ DB Local     â”‚ â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ Postgres     â”‚                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
                                         â–¼
                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                  â”‚ E2E Testing  â”‚
                                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                  â”‚ âœ“ Crear      â”‚
                                  â”‚ âœ“ Editar     â”‚
                                  â”‚ âœ“ Estado     â”‚
                                  â”‚ âœ“ Filtros    â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
                                  âœ… Frontend OK

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FASE 4: DEPLOY A PRODUCCIÃ“N                            â”‚
â”‚                          DuraciÃ³n: 90 minutos                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4.1 PRE-DEPLOY (15 min)                                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€â”€â–º Checklist validation
            â”‚    â”œâ”€ Tests passing
            â”‚    â”œâ”€ Frontend tested
            â”‚    â”œâ”€ Stakeholders notified
            â”‚    â””â”€ Team available
            â”‚
            â””â”€â”€â–º Backup producciÃ³n
                 â”œâ”€ pg_dump $DATABASE_URL_PRODUCTION
                 â”œâ”€ Compress to .zip
                 â”œâ”€ Copy to OneDrive
                 â””â”€ Verify backup size > 0
            
            â–¼
      âœ… Backup Created

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4.2 MERGE & MIGRATIONS (30 min)                                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€â”€â–º git merge feature/solicitudes-refactor
            â”‚    â””â”€ git push origin master
            â”‚
            â””â”€â”€â–º Apply migrations to production DB
                 â”‚
                 â”œâ”€â”€â–º alembic upgrade +1 (0020)
                 â”‚    â””â”€ seed_departamentos.py
                 â”‚         â””â”€ 4 departamentos
                 â”‚
                 â”œâ”€â”€â–º alembic upgrade +1 (0021)
                 â”‚    â””â”€ seed_tipos_solicitud.py
                 â”‚         â””â”€ 6 tipos
                 â”‚
                 â””â”€â”€â–º alembic upgrade +1 (0022) âš ï¸
                      â””â”€ Verify data integrity
                           â”œâ”€ Same # solicitudes
                           â””â”€ 0 invalid records
            
            â–¼
   âœ… Migrations Applied

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4.3 DEPLOY BACKEND (10 min)                                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â””â”€â”€â–º Auto-deploy (Railway/Fly.io)
                 â”œâ”€ git push triggers deploy
                 â”œâ”€ Monitor logs
                 â””â”€ Verify /docs accessible
            
            â–¼
      âœ… Backend Live

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4.4 DEPLOY FRONTEND (15 min)                                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â””â”€â”€â–º Deploy to Vercel
                 â”œâ”€ npm run build
                 â”œâ”€ vercel --prod
                 â””â”€ Verify frontend loads
            
            â–¼
     âœ… Frontend Live

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4.5 VERIFICATION (20 min)                                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€â”€â–º E2E tests on production
            â”‚    â”œâ”€ Create solicitud
            â”‚    â”œâ”€ Edit solicitud
            â”‚    â”œâ”€ Change estado
            â”‚    â””â”€ Test filters
            â”‚
            â”œâ”€â”€â–º Verify data integrity
            â”‚    â””â”€ All solicitudes have tipo + dept
            â”‚
            â””â”€â”€â–º Monitor logs
                 â””â”€ No critical errors
            
            â–¼
    âœ… DEPLOY COMPLETE

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FASE 5: POST-DEPLOY                                    â”‚
â”‚                     DuraciÃ³n: 48 horas monitoring                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    First 2 hours:
    â”œâ”€â”€â–º Monitor logs every 15 min
    â”œâ”€â”€â–º Respond to user reports immediately
    â””â”€â”€â–º Check error rates in Sentry/Logger

    First 24 hours:
    â”œâ”€â”€â–º Review performance metrics
    â”œâ”€â”€â–º Analyze usage patterns
    â””â”€â”€â–º Collect user feedback

    After 48 hours:
    â”œâ”€â”€â–º Confirm no rollback needed
    â”œâ”€â”€â–º Delete feature branch
    â”œâ”€â”€â–º Archive backups
    â””â”€â”€â–º Document lessons learned
    
    â–¼
    âœ… PROJECT COMPLETE

```

---

## ğŸ“Š Diagrama de Flujo de Datos

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend  â”‚
â”‚  React Next â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ HTTP Request
       â”‚ GET /solicitudes?departamento_id=1&estado=pendiente
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Backend API                â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Router: solicitudes.py        â”‚ â”‚
â”‚  â”‚ (Generic CRUD)                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚              â”‚                      â”‚
â”‚              â–¼                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CRUD: solicitud_crud          â”‚ â”‚
â”‚  â”‚ (NestedCRUD)                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚              â”‚                      â”‚
â”‚              â–¼                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Model: Solicitud              â”‚ â”‚
â”‚  â”‚ â”œâ”€ id                         â”‚ â”‚
â”‚  â”‚ â”œâ”€ tipo_solicitud_id (FK)     â”‚ â”‚
â”‚  â”‚ â”œâ”€ departamento_id (FK)       â”‚ â”‚
â”‚  â”‚ â”œâ”€ estado (enum)              â”‚ â”‚
â”‚  â”‚ â””â”€ total (decimal)            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚   PostgreSQL  â”‚
       â”‚               â”‚
       â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ â”‚ departamentos     â”‚
       â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚ â”‚ tipos_solicitud   â”‚â—„â”€â”€â”€â” FK
       â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
       â”‚ â”‚ solicitudes       â”‚â”€â”€â”€â”€â”˜
       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Diagrama de Rollback

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         PROBLEMA DETECTADO                  â”‚
â”‚  âŒ API no responde                         â”‚
â”‚  âŒ Datos inconsistentes                    â”‚
â”‚  âŒ Errores crÃ­ticos                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ Â¿Gravedad?   â”‚
      â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜
         â”‚        â”‚
    Minorâ”‚        â”‚Critical
         â”‚        â”‚
         â–¼        â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Rollback â”‚  â”‚ Full Restore â”‚
  â”‚ CÃ³digo   â”‚  â”‚ from Backup  â”‚
  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚              â”‚
        â–¼              â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ 2-5 min  â”‚  â”‚ 15-30 min    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚              â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ Verify System  â”‚
      â”‚ Is Stable      â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ Document       â”‚
      â”‚ Incident       â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ Plan Fix       â”‚
      â”‚ & Re-deploy    â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ Timeline Completo

```
DAY 1 (ImplementaciÃ³n Local - 8 horas)
â”œâ”€ 00:00 - 00:30 â”‚ Pre-requisitos
â”œâ”€ 00:30 - 02:00 â”‚ Models
â”œâ”€ 02:00 - 04:00 â”‚ Migrations
â”œâ”€ 04:00 - 06:00 â”‚ CRUD & Routers
â”œâ”€ 06:00 - 08:00 â”‚ Testing
â””â”€ 08:00 - 08:30 â”‚ VerificaciÃ³n
                 â”‚
                 â–¼ Commit & Push

DAY 2-3 (Testing con Frontend - 2-4 horas)
â”œâ”€ Adaptar frontend a nuevos campos
â”œâ”€ Probar E2E completo
â”œâ”€ Ajustes y fixes
â””â”€ ValidaciÃ³n final
                 â”‚
                 â–¼ Ready for Production

DAY 4 (Deploy a ProducciÃ³n - 90 min)
â”œâ”€ 00:00 - 00:15 â”‚ Backup & Pre-deploy
â”œâ”€ 00:15 - 00:45 â”‚ Merge & Migrations
â”œâ”€ 00:45 - 00:55 â”‚ Deploy Backend
â”œâ”€ 00:55 - 01:10 â”‚ Deploy Frontend
â””â”€ 01:10 - 01:30 â”‚ Verification
                 â”‚
                 â–¼ LIVE

DAY 4-6 (Post-Deploy Monitoring - 48 horas)
â”œâ”€ Hour 0-2     â”‚ Active monitoring (every 15 min)
â”œâ”€ Hour 2-24    â”‚ Passive monitoring (hourly)
â””â”€ Hour 24-48   â”‚ Stability confirmation
                â”‚
                â–¼ PROJECT COMPLETE
```

---

**Ãšltima actualizaciÃ³n:** 2025-11-10  
**Para mÃ¡s detalles, ver:** `README.md` en este directorio
